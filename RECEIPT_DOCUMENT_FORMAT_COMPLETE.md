# Receipt Document Format - Complete Implementation

## Overview
Successfully transformed the receipt detail page into a professional document format with school branding and proper print functionality.

**File**: [app/pages/admin/finance/receipts/[id].vue](app/pages/admin/finance/receipts/[id].vue)

## Changes Made

### 1. Document Header with School Branding ✅

**Added Professional Header**:
- School logo (with error handling if logo doesn't exist)
- School name (customizable)
- School address
- Contact information (phone and email)
- "OFFICIAL RECEIPT" title
- Border decoration with primary color

**Code**:
```vue
<div class="text-center mb-8 pb-6 border-b-4 border-primary">
  <div class="flex items-center justify-center gap-4 mb-4">
    <img
      src="/logo.png"
      alt="School Logo"
      class="w-20 h-20 object-contain"
      @error="(e) => (e.target as HTMLImageElement).style.display = 'none'"
    />
    <div>
      <h1 class="text-3xl font-bold text-primary">School Name</h1>
      <p class="text-sm text-neutral-600 dark:text-neutral-400 mt-1">
        School Address Line 1, City, State
      </p>
      <p class="text-sm text-neutral-600 dark:text-neutral-400">
        Phone: +234 XXX XXX XXXX | Email: info@school.com
      </p>
    </div>
  </div>
  <div class="mt-4">
    <h2 class="text-2xl font-bold text-neutral-900 dark:text-neutral-100">OFFICIAL RECEIPT</h2>
  </div>
</div>
```

### 2. Receipt Number Display ✅

**Enhanced Receipt Number**:
- Large, prominent display
- Monospace font for better readability
- Primary color for emphasis
- Label for context

**Code**:
```vue
<div class="flex items-center justify-between mb-6">
  <div>
    <p class="text-sm text-neutral-500 dark:text-neutral-400">Receipt Number</p>
    <p class="text-2xl font-bold text-primary font-mono">#{{ receipt.receipt_number }}</p>
  </div>
  <!-- Status badge -->
</div>
```

### 3. Print-Optimized Layout ✅

**Screen vs Print Display**:
- Action buttons hidden on print (`.no-print` class)
- Sidebar hidden on print (`print:hidden`)
- Single column layout on print (`print:grid-cols-1`)
- Signature section shown only on print (`.print-only`)
- Footer shown only on print

**Print-Only Elements**:

**Signature Section**:
```vue
<div class="print-only hidden mt-16 pt-8 border-t-2 border-neutral-300">
  <div class="flex justify-between items-end">
    <div class="text-center">
      <div class="border-t-2 border-neutral-800 pt-2 mt-16 w-64">
        <p class="text-sm font-semibold">Received By</p>
        <p class="text-sm mt-1">{{ receipt.received_by_name || '________________' }}</p>
      </div>
    </div>
    <div class="text-center">
      <div class="border-t-2 border-neutral-800 pt-2 mt-16 w-64">
        <p class="text-sm font-semibold">Authorized Signature</p>
        <p class="text-sm mt-1">________________</p>
      </div>
    </div>
  </div>
</div>
```

**Footer**:
```vue
<div class="print-only hidden mt-12 pt-6 border-t border-neutral-300 text-center text-sm text-neutral-600">
  <p>This is an official receipt generated by the School Management System.</p>
  <p class="mt-2">For any queries, please contact the finance office.</p>
  <p class="mt-3 text-xs">Generated on {{ new Date().toLocaleDateString(...) }}</p>
</div>
```

### 4. Print Styles ✅

**Comprehensive Print CSS**:
```css
@media print {
  /* Hide UI elements */
  .no-print {
    display: none !important;
  }

  /* Show print-only elements */
  .print-only {
    display: block !important;
  }

  /* Optimize document */
  .receipt-document {
    box-shadow: none !important;
    border: none !important;
    border-radius: 0 !important;
    padding: 20px !important;
    max-width: 100% !important;
  }

  /* Clean card styling */
  .card {
    box-shadow: none !important;
    border: 1px solid #e5e7eb !important;
  }

  /* Page setup */
  @page {
    margin: 1cm;
    size: A4;
  }

  /* Color accuracy */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    color-adjust: exact !important;
  }

  /* Prevent unwanted page breaks */
  .card {
    page-break-inside: avoid;
  }
}
```

### 5. Print Functionality ✅

**Updated Print Function**:
```typescript
const printReceipt = () => {
  window.print()
}
```

**How it works**:
1. User clicks "Print" button
2. Browser's native print dialog opens
3. Print styles automatically apply
4. Document displays in professional format
5. UI elements (buttons, sidebar) are hidden
6. Signature section and footer appear
7. User can print or save as PDF

## Document Structure

### On Screen View:
1. **Action Buttons** (Back, Print, Download) - Top
2. **School Header** - Logo, name, address, contact
3. **Receipt Number** - Large display with status badge
4. **Main Content** (2 columns):
   - Left: Receipt details, payer info, payment details, fee allocations
   - Right: Amount summary, action buttons
5. **Dialogs** - Fee allocation, edit, cancel (hidden by default)

### On Print:
1. **School Header** - Logo, name, address, contact
2. **Receipt Number** - Large display with text status
3. **Main Content** (1 column):
   - Receipt details
   - Payer information
   - Payment details
   - Fee allocations
4. **Signature Section** - Two signature lines with names
5. **Footer** - Official notice, contact info, generation timestamp

## Features

### Screen Display:
- ✅ Professional document layout with white background
- ✅ School branding (logo, name, contact info)
- ✅ Large receipt number display
- ✅ Status badge (color-coded)
- ✅ Two-column layout (content + sidebar)
- ✅ Action buttons for edit, allocate, cancel
- ✅ Responsive design
- ✅ Dark mode support

### Print Display:
- ✅ Clean, professional format
- ✅ Single column layout
- ✅ A4 page size with proper margins
- ✅ No shadows or rounded corners
- ✅ Color-accurate printing
- ✅ Signature lines (Received By, Authorized)
- ✅ Official footer with timestamp
- ✅ Page break prevention for important sections
- ✅ All UI elements hidden (buttons, badges, sidebar)

## Customization Guide

### 1. School Information

Update the school details in the header:

```vue
<h1 class="text-3xl font-bold text-primary">Your School Name</h1>
<p class="text-sm text-neutral-600 dark:text-neutral-400 mt-1">
  Your School Address
</p>
<p class="text-sm text-neutral-600 dark:text-neutral-400">
  Phone: Your Phone | Email: Your Email
</p>
```

### 2. Logo

Place your logo at `/public/logo.png` or update the path:

```vue
<img
  src="/your-logo-path.png"
  alt="School Logo"
  class="w-20 h-20 object-contain"
/>
```

### 3. Colors

The document uses the `primary` color from your theme. To customize:

```css
/* In your tailwind.config.js or global styles */
:root {
  --primary: your-color;
}
```

### 4. Page Size

Default is A4. To change:

```css
@page {
  margin: 1cm;
  size: Letter; /* or Legal, A5, etc. */
}
```

## Print Preview

### Before Printing (Screen View):
- Shows action buttons (Back, Print, Download)
- Two-column layout with sidebar
- Interactive elements visible
- Color-coded status badge
- Dark mode compatible

### After Clicking Print:
- Hides all UI controls
- Single column layout
- Shows signature lines
- Shows official footer
- Clean, professional format
- Ready for printing or PDF save

## Browser Compatibility

✅ **Chrome/Edge**: Full support
✅ **Firefox**: Full support
✅ **Safari**: Full support
✅ **Mobile browsers**: Responsive layout

## Usage

### To Print:
1. Navigate to receipt detail page
2. Click "Print" button (or Ctrl/Cmd+P)
3. Browser print dialog opens
4. Select printer or "Save as PDF"
5. Click Print

### To Download PDF:
1. Click "Download" button
2. Opens in new window with print dialog
3. Choose "Save as PDF" as destination
4. Click Save

## Technical Notes

### CSS Classes Used:

**Screen-only**:
- `.no-print` - Hidden when printing
- `.print:hidden` - Tailwind utility for print hiding

**Print-only**:
- `.print-only` - Only visible when printing
- Initially `display: none`, becomes `display: block` in print media

**Layout**:
- `.print:grid-cols-1` - Single column on print
- `.receipt-document` - Main document container

### Print Media Query:

All print-specific styles are wrapped in:
```css
@media print {
  /* Print styles here */
}
```

### Color Printing:

To ensure colors print accurately:
```css
* {
  -webkit-print-color-adjust: exact !important;
  print-color-adjust: exact !important;
  color-adjust: exact !important;
}
```

## Benefits

1. **Professional Appearance**:
   - Official document format with school branding
   - Clean, organized layout
   - Proper spacing and typography

2. **Print-Ready**:
   - Optimized for A4 paper
   - Proper margins and page breaks
   - Signature lines for authentication

3. **User-Friendly**:
   - One-click printing
   - No configuration needed
   - Works with standard browsers

4. **Dual Purpose**:
   - Screen view for management/editing
   - Print view for official records

5. **Cost-Effective**:
   - No external PDF libraries required
   - Uses native browser printing
   - Lightweight implementation

## Future Enhancements (Optional)

1. **Dynamic School Info**: Load school details from settings/database
2. **Logo Upload**: Allow admins to upload custom logo
3. **Template System**: Multiple receipt templates to choose from
4. **Watermarks**: Add "COPY" or "ORIGINAL" watermark
5. **QR Code**: Include QR code for receipt verification
6. **Barcode**: Add barcode for scanning
7. **Multi-Language**: Support for different languages
8. **Custom Fields**: Allow schools to add custom fields
9. **Email Integration**: Email receipt directly from page
10. **Batch Printing**: Print multiple receipts at once

## Summary

The receipt detail page now displays as a **professional document** with:

✅ School branding (logo, name, contact)
✅ Official receipt format
✅ Clean, organized layout
✅ Proper print functionality
✅ Signature lines for authentication
✅ Official footer with timestamp
✅ One-click printing (Ctrl/Cmd+P or Print button)
✅ PDF download capability
✅ Responsive design
✅ No external dependencies

The print button now properly triggers the browser's print dialog with optimized styling for physical printing or PDF generation.
